<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>BRAIN LOBOTOMY MEGA GAME XD kysik)</title>
    <style>
		@font-face {
			font-family: 'IBMFont';
			src: url(fonts/3270-Regular.ttf) format('truetype');
			font-weight: normal;
			font-style: normal;
		}	
		body {
            background-color: rgb(4,4,4);
		}
		
        #main_container {
            display: flex;
            justify-content: space-between; 
            align-items: flex-start; 
            padding: 1px;
        }
		
        #console{
            width: 600px;
            height: 600px;
            border: 2px solid lime; 
            padding: 20px; 
            box-sizing: border-box;
            margin: 40px;
			margin-left: 200px;
			overflow: scroll;
        }
		
		#ascii-art {
            width: 600px; 
            height: 600px; 
            border: 2px solid lime; 
            padding: 40px; 
            box-sizing: border-box;
            margin: 40px;
			margin-right: 200px;
			font-family: 'IBMFont', sans-serif;
        }
      
        #console p {
            color: lime;
            font-family: sans-serif;
			font=size: 10px;
            text-align: center;
			font-family: 'IBMFont', sans-serif;			
        }
       
        #ascii-art pre {
            color: lime;
            font-family: sans-serif;
            text-align: center;
			font-size:  35px;
			line-height: 1;
			font-family: 'IBMFont', sans-serif;
			center: auto;
			margin-top: 150px;
        }
		
		#command-input {
			padding: 5px 10px;
			font-size: 16px;
			border: 2px solid lime;
			background-color: black;
			color: lime;
			transition: background-color 0.3s ease;
			font-family: 'IBMFont', sans-serif;
			font-size: 15px;
			width: 170px;
	    }
		
		button {
			background-color: lime;
			color: black;
			font-family: 'IBMFont', sans-serif;
			font-size: 15px;
		}
		
        button:hover {
            background-color: #018D04;
        }
    </style>
</head>
<body>
    <div id="main_container">
        <div id="console"><center><p>What Im speak</p></center></div>
        <div id="ascii-art"><pre>What Im see</pre></div>
    </div>
	<center>
		<div id="input-container">
			<input type="text" id="command-input">
			<button onclick="executeCommand()">Ввод</button>
		</div>
	</center>
</body>
<script>

/*==============================Константы==============================*/

let arts = [
	{
		name:"лаборатория",
			ascii:
			  `
+-----------------+
|                 |
|                 |
|\\               /|
|  \\ _ _____ _ /  |
|   | |     | |   |
+-----------------+
`,
		description:"Комната с серыми стенами. Линолеум потрескался, в углах скопилась грязь. Вдоль стен стоят металлические столы, на которых разбросаны инструменты. Возле дальнего стеллажа несколько пробирок, внутри которых жидкость давно испарилась. На полке видна пыльная колба с мутным раствором а еще лабораторный контейнер с пробирками. Вентиляция работает с перебоями, воздух спертый, пахнет химикатами и ржавчиной, в конце лаборатории виден какой-то проход в странный коридор",
		items: ["пробирка", "колба"],
		itemsDescription:["Тонкая стеклянная трубка с закруглённым дном. На её поверхности пятна от высохших жидкостей, которые оставили мутные разводы. Похоже что внутри очень давно были странные реагенты, но сейчас они испарились. Резиновая пробка, которой она была закрыта, наполовину растрескалась, но всё ещё держится.","Широкая стеклянная ёмкость с узким горлом. Там виден какой-то мутный почти жидкий остаток, он очень странно пахнет, больше похоже на какой-то яд или спирт с примесими оксида железа. Поверхность колбы вся в тонком слое пыли, а на стекле видны следы пальцев, будто кто-то держал её в руках не так давно."],
		exits: ["лаборатория","коридор"]
	},
	
	{
		name:"коридор",
			ascii:
				`
+-----------------+
| \\             / |
|    \\       /    |
|      +---+      |
|      |   |      |
|      |   |      |
+-----------------+
`,
		description:"Длинный и узкий проход. Свет тусклый, лампы мерцают. Плитка на полу местами отсутствует, вместо неё — голый бетон. Стены исписаны царапинами, краска облупилась. Двери слева и справа заперты или забиты. В воздухе запах плесени. Вентиляция гудит, иногда слышны шаги или шорохи. В конце коридора виден проход в какую то комнату с диваном, как будто там отдыхают люди. Или.. Отдыхали...",
		items: [""],
		itemsDescription: [""],
		exits: ["лаборатория","коридор","комната-отдыха"]
	},
	
	{
		name:"комната-отдыха",
			ascii:
				`
+---------------------+
|                     |
|  []     [ ]     []  |
|        _____        |
|       |_____|       |
|      (_______)      |
+---------------------+
`,
		description:"Застрявшее во времени освещаемое тусклыми лампами помещение с облупившимися стенами, на которых некогда висели картины, но теперь остались лишь тёмные пятна и ржавые гвозди. Посередине стоит потрёпанный диван, набивка которого торчит наружу, будто он пережил не один десяток лет без ухода. Пол устлан тонким слоем пыли, которая взлетает при каждом движении. В воздухе витает запах старой мебели, смешанный с лёгким ароматом прелой ткани. На полу валяется смятый кусок ткани — возможно, это остатки пледа, некогда согревавшего кого-то, кто искал здесь убежище? Отсюда также видно очень много проходов в разные комнаты, проход в какую-то библиотеку, металическую дверь с табличкой запасное помещение, а еще выход в приёмную",
		items: ["ткань"],
		itemsDescription: ["Кусок грубой, изношенной материи. Ее края неровные, порванные, кое-где торчат нитки. Похоже что он является обшивкой этого старого дивана из этой комнаты. Эта ткань выглядит очень изношенно, так будто по ней проехались машинами и закололи иголками. При прикосновении остаётся ощущение влажности, будто ткань впитала в себя сырость из воздуха."],
		exits: ["коридор","комната-отдыха","библиотека","запасное-помещение","приёмная"]
	},
	
	{
		name:"библиотека",
			ascii:
				`
+---------------------+
|        _____  +---+ |
| +--+  |_____| |---| |
| |  |  |_____| |   | |
| |  |   _____  |---| |
| |  |  |     | |___| |
+---------------------+
`,
		description:"Высокие пыльные стеллажи. Книги стоят неравномерно, некоторые лежат на полу. Повсюду запах бумаги и затхлости. На столе несколько исписанных записок, текст частично выцвел. Пара книг раскрыта, страницы потрёпаны. В конце помещения виден проход в странную кухню",
		items: ["записки", "книга"],
		itemsDescription: ["Несколько исписанных листков бумаги. Чернила местами выцвели, часть слов невозможно разобрать, но некоторые из них видны. Если я не ошибаюсь... Там написано... <br>'я̸ н̶̸е̸̷ н҈҈а̸̴в̴̵и̶ ж̶̸у̷̵ с̴е̷̴б҉҈я̷҈'</br> <br>Ахаха...</br> <br>А ведь реально...</br> Края страниц порваны и загнуты, на некоторых заметны отпечатки пальцев. Текст написан в разной манере — одни строки аккуратные, другие торопливые и неразборчивые. На другой записке, написано... Вроде как... 'S.N.O. T.P.M.G.', Эээ... И что это должно мне дать? Это чё ребус какой-то ебаный? Похоже на то... Мдаааа... Ладно, не зря же это тут написано... Думаю мне это пригодиться. Правда я хз для чего, ну да ладно...","Я взял какую-то случайную книгу из кучи других. Тяжёлая, потрёпанная временем книга. Переплёт покрыт трещинами, уголки страниц загнуты. Некоторые листы испачканы, будто кто-то пролил на них жидкость. Заголовок на обложке стёрт, от него остались лишь слабые контуры букв. Страницы пожелтели от времени, буквы местами расплылись, но текст всё ещё читаем. <br>'Ты смотришь на своё отражение и надеешься увидеть кого-то другого. Ты думаешь, что внутри тебя есть что-то чистое, но вся твоя суть — это гниение. Твои мысли — бесполезные обрывки боли, твои поступки — хаотичные рывки утопающего. Ты не исправишься. Ты не изменишься. Ты обречён повторять свою жалкую природу снова и снова. Разве ты не устал от себя? Разве тебе не противно быть самим собой?'</br> <br>...</br> <br>'Они не простят тебя. Они могут улыбаться, могут говорить слова поддержки, но в их взглядах — отвращение. Они знают, кто ты такой. Они знают, что ты притворяешься. В глубине души ты это понимаешь, не так ли? Ты продолжаешь жить, потому что боишься, а не потому что хочешь. Ты даже не можешь решиться исчезнуть. Жалкое, жалкое существо.'</br> <br>я..?</br> <br>'Да. Ты. Если ТЫ читаешь это, знай: ТЫ не первый. ТЫ не единственный, кто приходит сюда и находит эту книгу. Но если другие уходили, то ты — нет. Потому что тебе нечего терять. Потому что ты всегда был никем. Потому что единственное, что тебе остаётся — смотреть, как твоя собственная пустота пожирает тебя изнутри.'</br> <br>.....</br> <br>Бля.</br>"],
		exits: ["комната-отдыха","библиотека","кухня"]
	},
	
	{
		name:"кухня",
			ascii:
				`
+--------------------+
|               ___  |
|   []  [] \\]  |   | |
|              |___| |
|   _________  |   | |
|  |         | |___| |
+--------------------+
`,
		description:"Грязное помещение, стены в пятнах жира, мойка полна грязной посуды, на поверхности разводы от воды и плесени. Шкафчики висят неровно, один из них сломан. На столе валяется нож, лезвие потемнело. Пол в мусоре, повсюду запах гнили. Рядом с холодильником виден выход в столовую, а еще закрытая дверь, которая смахивает на ту из которой люди выходят на улицу... Давненько я не трогал таких дверей, Очень... Давно...",
		items: ["нож"],
		itemsDescription: ["Ржавый, немного окровавленный, cтарый кухонный нож с потемневшим лезвием. Его поверхность покрыта пятнами, которые невозможно оттереть. Рукоять деревянная, потрескавшаяся, с отшилушивающийся краской. Кончик ножа слегка загнут, будто им что-то ковыряли, возможно кости и плоть... ахах."],
		exits: ["библиотека","кухня","столовая","улица"]
	},
	{
		name:"столовая",
			ascii:
				`
+---------------------+
|                     |
| |                 | |
| |    |---|---|    | |
| +--+ |   |   | +--+ |
| |  | |---|---| |  | |
+---------------------+
`,
		description:"Столы покрыты пылью, скатерти порваны. На одном из столов лежит грязная тарелка с остатками протухшей пищи. Рядом же вилка с погнутыми зубцами и остатками еды, ну или тем что от нее осталось. Светильники висят низко, некоторые перегорели. Воздух тяжёлый, пахнет чем-то мерзким и отвратительным.",
		items: ["тарелка", "вилка"],
		itemsDescription: ["Керамическая тарелка с трещинами на эмали. На её поверхности разводы от засохших остатков пищи. Края слегка сколоты, на одном из них глубокая трещина. От остатков еды воняет, кажется тут могли бы быть тараканы, если бы они существовали в этом месте. Хотя вру есть всё таки тут один таракан. И это ведь... Я... Не так ли..?","Металлическая вилка с погнутыми зубцами. Рукоять покрыта тонким слоем жира и грязи. Поверхность местами потемнела, металл кажется холодным и липким. На конце зубцов остатки пищи из тарелки. Противное зрелеще."],
		exits: ["кухня","столовая"]
	},
	{
		name:"запасное-помещение",
			ascii:
				`
+---------------------+
| \\_____.-----.______/|
|      /       \\      |
|     /         \\     |
| ___/___________\\___ |
|/                   \\|
+---------------------+
`,
		description:"Тесное пространство. Пыльные металлические полки с пустыми коробками. Вентиляция не работает, воздух застоялся. Лампа мерцает, освещая облупившиеся стены. Бетонный пол с какими то пятнами черного оттенка, кое-где видны следы влаги. Внутри широкого прохода виден тёмный подвал.",
		items: [""],
		itemsDescription: [""],
		exits: ["комната-отдыха","запасное-помещение","тёмный-подвал"]
	},
	{
		name:"комната-тестирования",
			ascii:
				`
+---------------------+
|  .-----. .-----.    |
|  |     | |     |    |
|  |_____| |_____|    |
|  |     | |     | +--|
|  |_____| |_____| |  |
+---------------------+
`,
		description:"Чистое, но пустое помещение. В центре стоят странного вида пустые камеры содержания для одного человека. Внутри них видны какие то странные очки виртуальной реальности и множество проводов. Столик рядом завален инструментами: зажимы, пустые шприцы, бинты. В углу камера наблюдения, объектив направлен в центр комнаты.",
		items: ["зажим","шприц","бинт"],
		itemsDescription: ["Металлический хирургический зажим с холодной, гладкой поверхностью. Его края слегка затуплены, но всё ещё функциональны. На внутренней стороне остались следы чего-то тёмного, возможно, крови или другой жидкости. Механизм фиксации работает с лёгким скрежетом, будто металл немного изношен. Держать его в руках неприятно — он слишком холодный, слишком чужой, как инструмент, который уже выполнил свою работу и больше не нуждается в новом хозяине.","Старая стеклянная колба с металлическим поршнем. На стекле еле заметные царапины, внутри осталось несколько капель засохшей жидкости. Игла длинная, тонкая, слегка погнутая, а на её конце засохли следы чего-то, что лучше не трогать. На корпусе едва различимы стертые цифры, будто кто-то использовал его слишком часто. Ощущение от предмета странное — в нём нет жизни, но есть история. История, которую лучше не знать.","Серый, засаленный кусок ткани, который когда-то был чистым. Он уже не мягкий, а скорее жёсткий, пропитанный временем и, возможно, болью. В некоторых местах его края порваны, будто кто-то нервно рвал его на части. На материале видны пятна, расплывшиеся неровными контурами. Сухие и давно впитавшиеся, но их происхождение очевидно."],
		exits: ["тёмный-подвал","комната-тестирования"]
	},
	{
		name:"кабинет-психолога",
			ascii:
				`
+--------------------+
|        [|]         |
| |     [___]        |
| |                  |
| +--+ +-----+  +--+ |
| |  | [_____]  |  | |
+--------------------+
				`,
		description:"Старинное кресло, обитое потрескавшейся кожей, стоит у небольшого письменного стола. На его поверхности разбросаны бумаги с аккуратно выведенными записями, сделанными рукой профессионала. Среди них лежит старый блокнот — страницы испещрены заметками, возможно, сделанными в моменты отчаянных разговоров между врачом и мной... У стены — шкаф с папками, каждая из которых, вероятно, хранит чьи-то исповеди, а на полу виднеется засохшее пятно, которое кто-то не смог или не захотел убрать.",
		items: ["блокнот"],
		itemsDescription: ["Блокнот потрёпанный, обложка истёрта, края страниц загнуты. Некоторые листы испачканы, на некоторых видны следы ногтей, будто их сжимали слишком сильно. Записи хаотичны: что-то написано аккуратно, что-то — наспех, с разрывами, зачеркиваниями, словно автор не мог выдержать самого себя. Открыв его, я начал читать: Первая запись (2█.██.21██) 'Я не помню, когда в последний раз чувствовал что-то настоящее. Всё размыто. Всё одинаково. Встаю, делаю то, что должен, ложусь. Иногда ем, но чаще забываю. Мне кажется, что время остановилось, но часы тикают. Почему они идут, если я не двигаюсь? Я застрял. Я тень самого себя. Я не уверен, был ли я когда-то живым.', ДАННЫЕ СТЁРТЫ. Пятая запись (█9.██.21██) 'Иногда мне кажется, что кто-то наблюдает. Не люди. Что-то другое. Оно не шевелится, но я знаю, что оно там. Оно ждёт. Я чувствую это. Я думаю, оно уже знает, как я закончу.'. Шестая запись(6█.█6.███6) 'Я не хочу просыпаться. Но я и не хочу спать. Я не хочу ничего. Я просто... хочу, чтобы этого не было. Меня не было. \n Почему мне не дают исчезнуть?' После этой страницы блокнот опустел. Но на последнем листе, вырванном, но оставившем след от ручки, можно разобрать едва различимые слова: 'Ты (не) выберешься.'. Выглядит жутко. Если честно, немного даже напоминает меня, но я бы думаю не стал писать в блокнот о том как провёл день и всё в таком духе..."],
		exits: ["приёмная","кабинет-психолога"]
	},
	{
		name:"смотровая",
			ascii:
				`
+---------------------+
|                     |
|--+     +---+     +--|
|  |     |   |     |  |
|--+     +---+     +--|
|                     |
+---------------------+
`,
		description:"Большое помещение с множеством окон, из которых видна улица и какое-то здание окутанное туманом а еще серо синеватое небо... Красиво, однако...",
		items: [""],
		itemsDescription: [""],
		exits: ["передача","смотровая"]
	},	
	{
		name:"передача",
			ascii:
				`
+---------------------+
|                     |
|  ___        __      |
| |   |      |  |     |
| |   |  +---|__|---+ |
| |___|  |   |  |   | |
+---------------------+
`,
		description:"Комната с бетонными стенами, пол покрыт пылью, от стены откололась штукатурка. Лампочка на потолке тусклая и с перебоями мигает. В углу стоит деревянный стол с единственным предметом — старым радио. Корпус потрескался, ручки настройки сломаны. Антенна погнута.",
		items: ["радио"],
		itemsDescription: ["Старый приёмник в алюминиевом корпусе, покрытом царапинами. Переключатели громкости и частоты впечатались внутрь, будто кто то очень долго их использовал а еще сильно вдавливал, шкала настроек затёрта. Динамик частично порван, провод антенны скручен в несколько узлов. Кнопка включения отсутствует."],
		exits: ["передача","смотровая"]
	},
	{
		name:"операционная",
			ascii:
				`
+---------------------+
|   .---. .---.       |
|   |___| |___|       |
|              |      |
|   .---. .---.|__+---|
|   |___| |___||  |   |
+---------------------+
`,
		description:"Стены выкрашены в грязно-белый цвет, краска потрескалась. В центре операционный стол, на его поверхности видны глубокие царапины, и следы крови. На кафельном полу видны еще большие пятна крови и части мяса или органов. Рядом столик с инструментами — на нём лежат скальпель и игла. Воздух холодный, пахнет железом и формалином. Вентиляция гудит, но не справляется с затхлым воздухом. Операционная больше похоже на морг, тут много камер для хранения трупов, но кажется они пустые, правда запах от них всё равно исходит крайне неприятный.",
		items: ["скальпель","игла"],
		itemsDescription: ["Тонкий хирургический инструмент с потемневшим лезвием. Рукоять из металла холодная на ощупь. На лезвии видны мелкие зазубрины, оно выглядит не таким острым, как должно быть. Видны остатки крови, кажется совсем недавно им резали плоть.","Длинная тонкая игла с небольшими пятнами ржавчины. Её кончик чуть загнут, будто кто-то использовал её не по назначению. Металл местами потемнел, создавая ощущение, что её давно не стерилизовали."],
		exits: ["комната-пыток","операционная"]
	},
	{
		name:"улица",
			ascii:
				`
+---------------------+
|~~  ~~~  / \\    | ~~~|
|~~~~ |  /   \\    ~~~~|
|~~~~   /     \\   ~~~~|
|~~~   /       \\   ~~~|
||    /         \\    ||
+---------------------+
`,
		description:"Разбитый асфальт с трещинами, в которых пробилась трава. Вокруг старые фонари, но ни один из них не работает. Повсюду множество деревьев и других растений. Небо с земли затянуто плотными облаками. Возле обочины валяется сломанная ветка. Дома вдали разрушены или заброшены, окна заколочены досками. Но... Я вижу... Один очень странный дом... Он весь окутан туманом, я помню его...",
		items: ["ветка"],
		itemsDescription: ["Высохшая ветка, сломанная посередине. Кора частично облупилась, под ней виднеется тёмная древесина. Острые концы словно заострены естественным образом, а на одном из них видны небольшие пятна грязи а еще виднеется слово: 'K-0M-H4TA', которое кажется вырезали ножом или чем-то еще острее."],
		exits: ["кухня","улица","комната-снов"]
	},
	{
		name:"комната-пыток",
			ascii:
				`
+---------------------+
|(*)       \\./        |
| :   /\\    *  /\\     |
| |  /  \\   | /  \\    |
| " /    \\   /    \\   |
|  /      \\ /      \\  |
|   ******    ******  |
+---------------------+
`,
		description:"Голые бетонные стены в трещинах и остатках крови. В центре массивные металлические конструкции с ремнями на подлокотниках а также шипами. Вдоль стен — ржавые цепи, некоторые из них висят свободно, другие прикреплены к железным кольцам. В углу стоит дробитель, покрытый старыми пятнами. Повсюду всякие останки от тех людей которые тут были... На некоторых цепях также видны остатки плоти. Также отсюда виден проход в какую то странную операционную, оттуда валит неприятный запах и еще оттуда видны следы крови на полу",
		items: ["дробитель","цепь"],
		itemsDescription: ["Тяжёлый металлический механизм с ржавыми деталями. Его поверхность покрыта вмятинами, внутри застряли обломки чего-то твёрдого. Рукоять потёрта, края металлических пластин затуплены. Он весь в крови и остатках плоти.","Толстая железная цепь с потемневшими звеньями. Некоторые звенья погнуты, на других видны следы коррозии. При движении цепь скрипит, будто металл трётся о металл."],
		exits: ["тёмный-подвал","комната-пыток","операционная"]
	},
	{
		name:"тёмный-подвал",
			ascii:
				`
+---------------------+
|   +---+        +    |
|  _______      +=+   |
| |       |      +    |
| |_______| +--+      |
|   /   \\   |  |      |
+---------------------+
`,
		description:"Тёмное, жуткое, мокрое помещение почти полностью заплетённое старой, рыхлой паутиной. Стены сырые, местами покрыты грибком. Потолок низкий, ламп нету, свет проникает лишь из-за открытого прохода. В одном из углов стоит старый деревянный ящик. В комнате еще есть стол и какое-то странное устройство, похожее на старый советский телевизор большого размера. Пол бетонный и весь потрескавшейся, также на полу разбросаны куски бетона. В дальнем углу лежит топор — его лезвие покрыто ржавчиной, но рукоять крепкая. Тут много проходов и дверей, одна из дверей ведет в лабораторию, только эта лаборатория выглядит иначе как будто там кого то клонируют или размножают, убого... Еще я вижу проход в какую то комнату, похоже что там стоят какие то капсулы и рядом с проходом есть табличка гласящая о том что это комната для тестирования людей. Еще я вижу дверь которая указана как кабинет для гипноза, какая то странная комната. И последнее помещение из которого валит ужасный запах, там видны остатки крови и множество различных пыточных устройств",
		items: ["топор"],
		itemsDescription: ["Тяжёлый инструмент с широким лезвием. Металл покрыт ржавчиной, но кромка всё ещё острая. Рукоять деревянная, со следами царапин и сколов. В местах хвата дерево потемнело от времени и влаги."],
		exits: ["запасное-помещение","тёмный-подвал","лаборатория-клонирования","кабинет-гипноза","комната-тестирования","комната-пыток"]
	},
	{
		name:"лаборатория-клонирования",
			ascii:
				`
+---------------------+
|       __ & __       |
|     []  [*]  []     |
|      [_______]      |
|       |     |       |
|      [_______]      |
+---------------------+
`,
		description:"Просторная комната с одной стеклянной капсулой. Внутри — мутная жидкость, силуэты за ней неразличимы. Полы стерильные, но на стенах видны следы плесени. Вдоль стены длинные столы с мониторами, но похоже что тут нету энергии для того чтобы питать эти комьютеры и мониторы. В воздухе стойкий запах химикатов.",
		items: [""],
		itemsDescription: [""],
		exits: ["тёмный-подвал","лаборатория-клонирования"]
	},
	{
		name:"кабинет-гипноза",
			ascii:
				`
+---------------------+
|     * | *    |__&__||
|     [___]      |"|  |
|    |     |     |"|  |
|   [_______]    |"|  |
|                |"|  |
+---------------------+
`,
		description:"Тёмная комната с странным креслом в центре. Перед ним на треноге стоит старый проектор, направленный на стену. Пол устлан пыльным ковром. В углу стоит стол на котором лежат странные часы. Воздух застоявшийся, пахнет плесенью и перегоревшей проводкой.",
		items: ["часы"],
		itemsDescription: ["Старые, но всё ещё исправные наручные часы с металлическим корпусом. Ремешок кожаный, потрескавшийся, с тёмными пятнами, которые могли быть потом, грязью… или чем-то ещё. На стекле есть едва заметные царапины, будто владелец часто смотрел на время, но делал это неаккуратно, слишком торопливо или в панике. Циферблат чёрный, с белыми цифрами, но стрелки идут с микроскопическим запаздыванием, словно время здесь двигается иначе. Заводная головка залипает, как будто её не касались уже давно. Задняя сторона выглядит потёрто, на ней виднеется символы, из них получается Дата: 14.09.21██. И мне кажется... Я знаю что это за дата. Неужели это. Дата. Моей... Да нет бред какой-то, как я могу это помнить. Хотя раз уж я тут, всё возможно"],
		exits: ["тёмный-подвал","кабинет-гипноза"]
	},
	{
		name:"комната-снов",
			ascii:
				`
+---------------------+
| You need to wake up |
| ~  ~   ~   ~  ~ ~~  |
|~  ~~ ~ ~~   ~~  ~ ~ |
| ~ ~ ~ ~ ~ ~ ~  ~ ~  |
|_____________________|
+---------------------+
`,
		description:"Эта комната выглядит очень странно, всё в тумане, а стены... Они... Бетонные как и пол... На стене... Написано чтобы я проснулся... Но как я это сделаю, я не могу. Я заперт тут. Заперт блять, в своей же глупой тупорылой голове. Я не могу выбраться отсюда, меня тут заперли, навсегда, возможно я и заслужил всё это, я ведь всю жизнь только что и делаю это ною блять... Ною и ною, всем только что и делаю это ною блять. Я не умею ничего в этой жизни делать кроме как ныть, наверное поэтому меня тут и заперли, это моё наказание теперь... Почему... Я... Такой... \nЯ ненавижу себя. И я всегда буду это повторять, ведь. Я ненавижу себя. Всегда ненавидел, и всегда буду, я никчёмен, я ничтожественен. Я даже не знаю как мне проснуться. А ведь... Даже щас я мог бы и не ныть, а просто постараться вспомнить, что произошло когда меня тут заперли, и как мне отсюда выбраться. Но нет же блять я ною, хотя сказал же сам себе ответ на то что мне сука делать блять, КАКОГО ХУЯ ЁПТА БЛЯТЬ. ХВАТИТ, ХВАТИТ БЛЯТЬ УЖЕ, ХВАТИТ УЖЕ БЛЯТЬ МАТЕРИТСЯ И НЫТЬ. Соберись и начни уже нормально думать, что произошло и почему ты тут оказался. Ведь. Ты не зря тут находишься. В своём сознании. Мне... Нужно проснутся... Верно..? А если я, убью себя, это убьёт лишь мою ментальную душу да ведь..? Может попробовать? Я ведь... Могу же... ахахаха... я не могу. никогда не мог я всегда отговаривал себя от этого, хотя это не сложно, никогда не было сложно. Я ничтожество. и ведь реально, учитывая то что я заставляю зрителей слушать всё это нытьё, я же ведь знаю что кто то за мной наблюдает. я должен. выбраться отсюда блять. наконец уже... Этот мир, это ведь моё наказание? так почему бы действительно не убить бы себя? Я ведь знаю что это не сложно, просто взял и вскрыл себе всё что только можно, учитывая то что я могу, стоит попытаться. Ну бля, ахахах знааачит. Прощайте ребзя... Я иду выбираться отсюда... Ну или не иду хуй знает чё выйдет. В любом случае. В пизду это всё, Я НЕНАВИЖУ СЕБЯ И ВСЁ В ЭТОМ ЕБАНОМ СУКА МИРЕ!",
		items: [""],
		itemsDescription: [""],
		exits: ["улица","комната-снов"] //тут можно добавить телепорт в другие локации либо запереть игрока пока он не поймёт что делать короче головомки всякие рофлы угары приколы убейтесь, а еще добавить рандом от того какая сюжетка выпадет, либо игрок попал в другое интересное место то есть другие локации то есть игрок проснётся и начнётся другая вообще сюжетка, либо начнётся та самая то есть именно скитание по этому миру долгие столетия в депрессии. так что да давай давай думай
	},
	{
		name:"заброшенная-часовня",
			ascii:
				`
+---------------------+
|                     |
|     /\\      /\\      |
|    /  \\    /  \\     |
|   /____\\  /____\\    |
|                     |
+---------------------+
`,
		description:"Очень старое, крайне запустелое и пыльное помещение, видны окна треугольной формы, из них открывается необычайный вид на сине-серый закат. Небо выглядит очень красиво, при этом очень необычно, я не привык смотреть на небо, а особенно видеть его таким странным. Пол покрыт слоем пыли, а воздух сырой. На полу валяется старая отвёртка, кто ее тут мог оставить... Ты ведь тут... Один.",
		items: ["отвёртка"],
		itemsDescription: ["Ржавая отвёртка с погнутым наконечником. Рукоять пластиковая, но потрескалась от времени. Металл лезвия покрыт тёмными пятнами."],
		exits: ["лестница","заброшенная-часовня"]
	},
	{
		name:"лестница",
			ascii:
			  `
+--------------------+
|_______| -- |       |
|   ____|    |__     |
|      _|    |____   |
|       |    |_______|
|       |    |       |
+--------------------+
`,
		description:"Старая бетонная лестница с пыльными ступеньками. Повсюду паутина, ступени выглядят очень ненадёжно, сверху виден какой-то деревянный чердак, оборудованный под самобытную и заброшенную часовню.",
		items: [""],
		itemsDescription: [""],
		exits: ["заброшенная-часовня","лестница","приёмная"]
	},
		{
		name:"приёмная",
			ascii:
			  `
+--------------------+
|  \\________________/|
| \\   _   _          |
|  | | | | |   |   | |
|  | | | | |  _|  _| |
| /          | | | | |
+--------------------+
			  `,
		description:"Длинный коридор с множеством стульев, некоторые из них сломаны. Тут ждут своего приёма посетители. Воздух тяжёлый, пахнет бумагой и старой мебелью. На полу виднеется не подходящая к месту современная ручка. Дальше по корридору есть проходы, один из них ведёт в кабинет психолога, еще один ведёт на лестницу.",
		items: ["ручка"],
		itemsDescription: ["Чёрная пластиковая ручка с гладкой поверхностью. Она выглядит совершенно новой, без царапин, без следов использования, как будто её только что выронили. Колпачок всё ещё плотно сидит на месте, и нет никаких признаков, что ей когда-либо писали. Это делает её странной. Весь остальной мир здесь старый, потрёпанный, забытый — а она нет. Это неправильный предмет в неправильном месте. И это настораживает."],
		exits: ["комната-отдыха","кабинет-психолога","приёмная","лестница"]
	}
];

let newArts = [
	{
		name: "лес",
		ascii: `
	/\\
   ///\\
  ///\\\\
 ///\\\\\\
	`,
		description: "Темный лес с высокими деревьями.",
		items: ["палка", "камень"],
		itemsDescription: ["крепкая палка", "гладкий камень"],
		exits: ["поляна"]
	},
	{
		name: "поляна",
		ascii: `
+-----------------+
|       ^^        |
|      ^^^^       |
|     ^^^^^^^     |
|    ^^^^^^^^^    |
+-----------------+
		`,
		description: "Светлая поляна с цветами.",
		items: ["цветок", "лист"],
		itemsDescription: ["яркий цветок", "зеленый лист"],
		exits: ["лес"]
	}
];
	
let entities = [
  {
    name: "Поедатель",
    ascii:
	`
      .------.
     /  ~ ~  \\
    |  /  _  \\ |
    | |  / \\  | |
     \\ \\___/  /
      '-------'
    `,
    dialogue: [
      "Вы не понимаете, что оно говорит.",
      "Скрытые записи о вас..."
    ]
  },
  {
    name: "Тень",
    ascii:
	`
			  .--.
		  .--'    '---.
		.'                '.
	   /                    \\
	  :                      :
	  |                      |
	  :                      :
	   \\                    /
		'.__              _.'
			 '---._____.---'
    `,
    dialogue: [
      "Оно следует за вами в темноте.",
      "Шёпот в ночи..."
    ]
  },
  {
    name: "Огорчённый",
	ascii: 
	`
		  .-""""""-.
		.'          '.
	   /   O      O   \\
	  :           \    :
	  |                |   
	  :    .------.    :
	   \\  '        '  /
		'.          .'
		  '-......-'
	`,
    dialogue: [
      "Вы не пройдёте без разрешения.",
      "Защитник тайн..."
    ]
  },
  {
    name: "Призрак",
	ascii: 
	`
			.-.
		   (   )
		  .-'-'-.
		.-         -.
	  .'             '.
	  |    О     О    |
	  |     -     -    |
	  |      '._.'     |
	  |               |
	   '._         _.'
		  '-.....-'
	`,
    dialogue: [
      "Его голос эхом разносится по коридорам.",
      "Потерянные души..."
    ]
  }
];

const playerStart = "Ты медленно приходишь в сознание, ощущая холод и сырость под спиной. Открыв глаза, ты видишь над собой тусклый свет лампы, который едва разгоняет окружающую тьму. Вокруг тебя — заброшенная лаборатория. Стеллажи, когда-то полные ржавых пробирок и мутных жидкостей, теперь пусты, и только эхо ваших шагов нарушает тишину. Воздух наполнен резким запахом химикатов, который проникает в легкие, вызывая головокружение. \n \n Команды: Осмотреть, Использовать, Взять, Идти, Помощь\n\nПримеры: осмотреть лаборатория, взять тяжёлая-цепь"

const newGame = "Ахах... Какой уже год... Я тут... И что... Мне помогло то что я тогда убил себя в той комнате? Нет. Хотя я рад что это сделал, в первый раз правда хоть я и огорчился от того что я походу отсюда не выберусь, но всё равно... Ведь главное что я себе навредил, и я рад этому..... я ведь... и правда... застрял тут... и ничего не делаю... чтобы выбраться, хотя ведь по факту мне и на самом деле и не надо... ахахах... до чего же я всегда был лузером и лохом, даже в реальности в реальной жизни до того как меня похители и провели ту злощастную операцию по извлечению мозга... я ведь не хотел жить. а сейчас что, будто что то поменялось, я просто застрял в этом ебучем измерении, но оно и к лучшему, в этой реальности и правда здорово, я тут один, хотя и схожу с ума но за то могу делать всё что хочу. Правда, это ваше: я могу ломать и делать всё что хочу, помогало только временно, и если честно, я рад... почему я первое время хотел выбраться лол... это же. странно. тут круто. правда круто. только я один...... это же... круто...... \n \n \n \n надо срочно что то менять, мне нужно собраться уже с силами и перестать вечно гулять в мыслях. я должен хоть что то делать иначе я проведу тут вечность и в конец сойду с ума. я должен. с последними силами. собраться. и выбраться из этого кошмара... правда что я буду делать я же ведь вроде как в реальности той... которая была если я помню... лет 40 или 50 назад...  я же там без мозгов.? в любом случае я должен хоть что то сделать. ахахахаха.. я знаю как я выгляжу, я буквально в самом лучшем мире в котором могу быть, и я хочу из него выбраться. до чего же я идиот верно.? верно еще как причём, да. я ненавижу себя. да я идиот. но мне. не хочется проторчать в этом гнилом зассаном ебливом подсобнике в котором одна пыль повсюду. еще и перезагружается всё постоянно, да и тем более тут нету еды а я еще всё ощущаю голод. и если честно я устал умирать в апатии от голода и жажды. да хоть вода тут и есть ведь иногда идёт дождь. но она тут такая отвратительная, меня аш иногда тошнит от нее. но я отошёл от темы. для начала. мне нужно понять с чего начать, а то я заебался тут уже правда. да возможно и кажется что это царские условия но как я и говорил это тотальный пиздец, и меня он правда заебал, даже в апатии и депрессии, я не хочу тут находиться и сойти с ума. мне нужно выйти на связь, в передаче я возможно смогу наладить связь с электричеством, и создать подключение пока еще есть силы. ведь с каждой смертью я становлюсь всё слабее и слабее. а есть себя я не хочу ведь я уже пытался и на вкус я отвратителен. до чего иронично однако.... и что самое главное... правдиво....... хотя несмотря на это, нужно что то придумать, насколько я знаю подключение тут есть хоть какое то, по идее я смогу попытаться выйти на связь со своим телом, а если получиться то значит не всё потеряно... вот только... что я буду делать в реальности... она же тоже такая уёбищная блядуха. ну насчёт этого... она будет покруче этого места, да и тем более я в реальности буду надеюсь куда прокаченее ведь всё таки не зря я тут в библиотеке устроился. кстати насчёт этого как я тут живу... 40 с лишнем лет да ведь... так вот... ужасно... я устал. правда устал... от всего этого, в том числе одиночества, я уже давно схожу с ума я думаю, а общение и создание силуэтов не помогает, стало только хуже, хоть я и сказал что одинок, я соврал, ведь тут я к сожалению не одинок, из за того что мои проблемы начали прогрессировать, появились какие то странные сущности, которые кажись очень враждебны ко мне. и мне кажется что если они меня убьют, ничего хорошего не будет, ведь я могу попасть в спавнкиллерный цикл, в котором они будут меня убивать каждую секунду на протяжении вечности... я бы не хотел оказаться в еще более абсурдном кошмаре, учитывая то что я уже и так порядком подзаебался находиться в этом ебучем месте.";

/*==============================Функции==============================*/

let currentLocation = "лаборатория";
let inventory = [];


function executeCommand() {
	let input = document.getElementById('command-input').value.toLowerCase();
	let words = input.split(' ');
	let command = words[0];
	let consoleDiv = document.getElementById('console');
	
	if (command === "осмотреть") {
		if (words[1] === currentLocation) {
			consoleDiv.innerHTML += `<center><p>${getDescriptionByName(currentLocation)}</p></center>`;
		} else if (inventory.includes(words[1])) {
			consoleDiv.innerHTML += `<center><p>${getItemDescription(words[1])}</p></center>`;
		}
		else {
			if (words[1] === undefined || words[1] === "") {
				consoleDiv.innerHTML += `<center><p>Неверный синтаксис команды, пример: осмотреть "Нужная локация от именительного падежа"</p></center>`;
			}
			else
			{
				consoleDiv.innerHTML += `<center><p>Вы не можете осмотреть "${words[1]}".</p></center>`;
			}
		}
	} else if (command === "идти" && words[1]) {
		let newLocation = words[1];
		if (canMoveTo(newLocation)) {
			changeLocation(newLocation);
		} else {
			consoleDiv.innerHTML += `<center><p>Из "${currentLocation}" нет выхода в "${newLocation}".</p></center>`;
		}
	} else if (command === "взять" && words[1]) {
		let item = words[1];
			if (isItemInLocation(item) && !inventory.includes(item)) {
				inventory.push(item);
				consoleDiv.innerHTML += `<center><p>Вы подобрали '${item}'.</p></center>`;
			} else if (inventory.includes(item)) {
				consoleDiv.innerHTML += `<center><p>У вас уже есть ${item}.</p></center>`;
			} else {
				consoleDiv.innerHTML += `<center><p>${item} здесь нет.</p></center>`;
			}
	} else if (command === "помощь") {
		consoleDiv.innerHTML += `<center><p>Помощь говоришь? Тебе не помогут тут, никто и никогда, забыл? Ты одинок в этом мире идиот. Ахахахах до чего же ты глуп однако. А ты не спрашивай чё я тебя на ровном месте хуесошу, заслуженно потому что, помощи просить тут не у кого увы и ах. Сорянбус такова жизнь, она , что по ту сторону экрана, что тут - сурова и без пощадна, и мы сами должны в ней научиться ориентироваться. Помощи просить не у кого, никто никогда тебе не поможет. Кроме тебя же самого... Ня<3 , Но тааак и быть чтоб ты не плакал, ты можешь осматривать не только локации но и предметы а также использовать определённые предметы в определённых локациях. А еще всё с именительного падежа называть нуб. Думааай.</p></center>`;
	} else {
		consoleDiv.innerHTML += `<center><p>Неизвестная команда.</p></center>`;
	}
		
	if (command === "осмотреть"){
		if(currentLocation === "комната-снов"){
			if (words[1] === "комната-снов"){

		function executeActionAfterDelay(delay) {
				setTimeout(() => {
					const randomChance = Math.random();

						if (randomChance < 0.5) {
							location.reload();
						} else {
							consoleDiv.innerHTML = `<center><p>${newGame}</p></center>`;
							changeLocation("библиотека");
						}
					}, delay);
				}
				executeActionAfterDelay(30000);
			}
		}	
	}
}

console.log(getAsciiArtByName("лаборатория"));

function getDescriptionByName(name) {
	let art = arts.find(item => item.name === name);
	return art ? art.description : "Описание не найдено";
}

function getAsciiArtByName(name) {
	let art = arts.find(item => item.name === name);
	return art ? art.ascii : art.ascii;
}

function getItemDescription(itemName) {
	let location = arts.find(loc => loc.items.includes(itemName));
	if (location) {
		let index = location.items.indexOf(itemName);
		if (index !== -1) {
			return location.itemsDescription[index];
		}
	}
	return "Описание предмета не найдено";
}

function canMoveTo(newLocation) {
	let currentExits = arts.find(loc => loc.name === currentLocation).exits;
	return currentExits.includes(newLocation);
}

function updateAsciiArt() {
	let asciiArt = getAsciiArtByName(currentLocation);
	document.getElementById('ascii-art').innerHTML = `<pre>${asciiArt}</pre>`;
}

function changeLocation(newLocation) {
	currentLocation = newLocation;
	updateAsciiArt();
}

function isItemInLocation(item) {
	let currentItems = arts.find(loc => loc.name === currentLocation).items;
	return currentItems.includes(item);
}

//changeLocation("коридор")




function PlayerDie(){
	console.log("кака пука лох ты сдох")
	//location.reload()
}


//Старт игры...

function StartGame(){
	var consoleDiv = document.getElementById('console');
	consoleDiv.querySelector('p').innerText = playerStart;
	console.log("Лоховодство)")
		const asciiDiv = document.getElementById('ascii-art');
	if(asciiDiv){
		asciiDiv.innerHTML = `<center><pre>${getAsciiArtByName("лаборатория")}</pre></center>`;
	}
}

document.addEventListener('DOMContentLoaded', function() {
	StartGame();
});
</script>
</html>